{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogging/applying-dark-mode-on-gatsby-blog/","webpackCompilationHash":"4d696819349ffc8639f4","result":{"data":{"site":{"siteMetadata":{"title":"Lazy Nyaong","author":"Oh SeungHyeon"}},"markdownRemark":{"id":"810a04f6-852a-592d-b41a-6c0eaaa85d72","excerpt":"Dark mode 최근 윈도우나 맥OS, 심지어 내가 사용하는 아이폰의 IOS까지 Dark mode이 도입됐다. Dark mode는 말 그대로 전반적인 인터페이스의 색상이 어둡다. 그래서 어두운 환경에서 눈의 피로를 감소시켜준다. dark mode in CSS CSS에도 dark…","html":"<h2>Dark mode</h2>\n<p>최근 윈도우나 맥OS, 심지어 내가 사용하는 아이폰의 IOS까지 Dark mode이 도입됐다. Dark mode는 말 그대로 전반적인 인터페이스의 색상이 어둡다. 그래서 어두운 환경에서 눈의 피로를 감소시켜준다.</p>\n<h2>dark mode in CSS</h2>\n<p>CSS에도 dark mode에 대응하기 위한 기능이 추가되었는데, <code class=\"language-text\">prefers-color-scheme</code>이라는 media query이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> dark<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 쿼리를 사용하면 dark 모드가 설정된 os와 아닌 os에서의 css 결과가 달라질 것이다.</p>\n<p>아래와 같은 경우 dark모드인 경우 배경과 글의 색이 역전된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> dark<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기에 javascript를 사용해서 query를 실시간으로 확인하여 특정 동작을 할 수도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> darkQuery <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">matchMedia</span><span class=\"token punctuation\">(</span><span class=\"token string\">'(prefers-color-scheme: dark)'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndarkQuery<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>matches <span class=\"token operator\">?</span> <span class=\"token string\">'dark mode'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'light mode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그러나 이 방법으로만 구현하게 되면 OS에서 dark  모드를 사용하지 않는 사용자는 웹에서 dark mode를 사용할 수 없다.</p>\n<h2>CSS Variables</h2>\n<p>switch를 두고 toggle을 하여 mode를 바꾸는 방법은 어떨까?</p>\n<p>switch에 따라 .light 또는 .dark 클래스를 적용하여 사이트의 전체적인 css를 변경하는 것이다.</p>\n<p>그러기 위해서는 변수와 같은 것이 필요하다.</p>\n<p>CSS에도 변수가 있으며 다음과 같이 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">// 변수의 선언\nelement</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--main-bg-color</span><span class=\"token punctuation\">:</span> brown<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">// 변수의 사용\nelement</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--main-bg-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 변수를 활용하면, 다음과 같이 모드에 따라 변수의 값을 바꾸어 사이트 전체의 css에 적용되게 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body.light</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--main-bg-color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body.dark</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--main-bg-color</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--main-bg-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>추가적인 고려 사항</h2>\n<p>단순히 색상만 바꾸는 것으로는 다크 모드를 이쁘게 구현했다고 볼 수 없다.</p>\n<p><a href=\"https://stuffandnonsense.co.uk/blog/redesigning-your-product-and-website-for-dark-mode\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Andy Clarke의 글</a>을 참고하면, 색상을 선택하는 것부터, 타이포그래피, 이미지에 필터를 적용하는 것 등 다양한 것들을 고려하여 구현할 수 있음을 알 수 있다.</p>\n<h2>참고</h2>\n<ul>\n<li><a href=\"https://dev.to/ananyaneogi/create-a-dark-light-mode-switch-with-css-variables-34l8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Create A Dark/Light Mode Switch with CSS Variables, Ananya Neogi, 2019.4.10</a></li>\n<li><a href=\"https://css-tricks.com/dark-modes-with-css/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dark Mode in CSS</a></li>\n<li><a href=\"https://stuffandnonsense.co.uk/blog/redesigning-your-product-and-website-for-dark-mode\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redesigning your product and website for dark mode</a></li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/blogging/applying-dark-mode-on-gatsby-blog/#dark-mode\">Dark mode</a></li>\n<li><a href=\"/blogging/applying-dark-mode-on-gatsby-blog/#dark-mode-in-css\">dark mode in CSS</a></li>\n<li><a href=\"/blogging/applying-dark-mode-on-gatsby-blog/#css-variables\">CSS Variables</a></li>\n<li><a href=\"/blogging/applying-dark-mode-on-gatsby-blog/#%EC%B6%94%EA%B0%80%EC%A0%81%EC%9D%B8-%EA%B3%A0%EB%A0%A4-%EC%82%AC%ED%95%AD\">추가적인 고려 사항</a></li>\n<li><a href=\"/blogging/applying-dark-mode-on-gatsby-blog/#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>","timeToRead":2,"frontmatter":{"title":"Gatsby 블로그에 Dark mode 넣기","date":"October 14, 2019","description":"css class를 switch로 활용하여 css variable에 따라 값을 바꿔주는 방법으로 dark mode 구현하기","category":"blogging"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blogging/applying-dark-mode-on-gatsby-blog/","previous":{"fields":{"slug":"/blogging/making-category-page/"},"frontmatter":{"title":"Gatsby 블로그에 카테고리 만들기","category":"blogging"}},"next":null}}}