{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogging/making-about-pages/","webpackCompilationHash":"657e3c1fc50ab37375f7","result":{"data":{"site":{"siteMetadata":{"title":"Lazy Nyaong","author":"Oh SeungHyeon"}},"markdownRemark":{"id":"56067570-e9db-5cf3-b282-50cda004004c","excerpt":"Docs에 따르면, Gatsby에서 페이지를 만드는 방법은 3가지가 있다. In your site’s gatsby-node.js by implementing the API createPages Gatsby core automatically turns React components in…","html":"<p>Docs에 따르면, Gatsby에서 페이지를 만드는 방법은 3가지가 있다.</p>\n<ol>\n<li>In your site’s gatsby-node.js by implementing the API createPages</li>\n<li>Gatsby core automatically turns React components in src/pages into pages</li>\n<li>Plugins can also implement createPages and create pages for you</li>\n</ol>\n<p>2번을 보면 Gatsby core는 자동으로 src/pages 폴더 내의 파일을 참조하여 해당 파일 이름의 path로 페이지를 생성한다는 내용이 있다.<br>\n즉, <code class=\"language-text\">src/pages/about.js</code> 파일을 생성하면 <code class=\"language-text\">/about</code>이라는 경로로 페이지가 생성되고 <code class=\"language-text\">src/pages/abcd.js</code> 파일을 생성하면 <code class=\"language-text\">abcd</code>라는 경로로 페이지가 생성된다.</p>\n<p>따라서 About 페이지를 만들기 위해서 할 일은 <code class=\"language-text\">src/pages/about.js</code> 파일을 생성하고 다음과 같이 소스를 작성하는 것이다. 그럼 자동으로 <code class=\"language-text\">/about</code> 경로로 페이지가 생성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AboutPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> location<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"About\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>About Me<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>안녕하세요 제 블로그에 오신 것을 환영합니다<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AboutPage\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p><code class=\"language-text\">src/pages/404.js</code>와 <code class=\"language-text\">src/pages/index.js</code> 페이지를 참고하여 작성했다.</p>\n<p>페이지의 Wrapper인 Layout 컴포넌트를 최상위에 두고 아래에 SEO 컴포넌트와 제목, 내용 등을 배치했다. 또한 <code class=\"language-text\">404.js</code>에 있던 pageQuery를 그대로 들고와서 Layout 컴포넌트가 필요로 하는 데이터를 가져올 수 있게 만들었다.</p>\n<p>(이 GraphQL Query는 pageQuery라는 변수로 export 되어야 하며, 작성된 컴포넌트의 props로 받게 되는 것 같다)</p>\n<h2>개발 중 GraphiQL로 생성된 페이지 목록을 확인하기</h2>\n<p>개발 서버를 실행하여 <a href=\"%60localhost:8000/__graphql%60\">GraphiQL</a>에 접근한 후 다음의 query를 실행하면 생성되는 페이지들의 path와 plugin 정보를 얻게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  allSitePage <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        path\n        component\n        pluginCreator <span class=\"token punctuation\">{</span>\n          name\n          pluginFilepath\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.91217257318951%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHElEQVQ4y22T2a7bMAxE8/9/1z5cNMhqW960WrucvHRou2k2gBAUI9SQh8OdtUFI60OMMQUfY6CTLvQzxZBjzCmXVGYKXJ5iF1M5X4aq4byTqhWyHmU16k5qJgyTuhGKiUkYJ60zDhovyWWe+0H/OXSs5l01mlEbZLbSauddQKQE8QR9ipTflPNkvdJea6eU8zY4Za2crLIO+ZN/K/Ul2Uw2lxn6FPdbvt3y/Vbud7rcbgXnPG/x2bN1gbVKGxegaTwao/YEySLs0qrTFh+9i+/JuZRLNR7Pfc+EYKOsB1lzQDKdstzoVugFgSZsU/gExoU5XsbruTvtq4EN/aVtT43myk0ealT/vMRn2aCPGfuQKIhnwahp2i4GFzDw7a/pOzBMI+dcNiRl88OiRudXezyU07XmqBxOwGDCorn6LPoEiqic9F8n/B9Y3Yj9oWtrLhgHHtOriRszaEKt3DrtmL8nz1JNVSP6VraNMMIQW0AG8FFbRW4hz4gJtOnk6xeM0NOcIV7Q24KUeqY12N4GrjVegKUnhwkJas5hLo7Ke8L2oPid2c77+Ov38XCqmwtj51pzHeAFcMKQF5+vPQNken6l/Ou5Yfxnz67ntjm3ZLKGYzfV0jN5k17x6wg2C6yXmHZ4AEWPwvadrOuBD2JshrHuh6oTnaDdWvCszHAStuUjytlN1iEfwBDz/Y41wkptsVjysVKP9SILLUT+AruTNq2AY/IRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"allSitePage query result\"\n        title=\"allSitePage query result\"\n        src=\"/static/4bc9e5b16d3d3ef7fefa59d49e83bd01/b9e4f/gatsby-plugin-page-creator.png\"\n        srcset=\"/static/4bc9e5b16d3d3ef7fefa59d49e83bd01/cf440/gatsby-plugin-page-creator.png 148w,\n/static/4bc9e5b16d3d3ef7fefa59d49e83bd01/d2d38/gatsby-plugin-page-creator.png 295w,\n/static/4bc9e5b16d3d3ef7fefa59d49e83bd01/b9e4f/gatsby-plugin-page-creator.png 590w,\n/static/4bc9e5b16d3d3ef7fefa59d49e83bd01/9a22e/gatsby-plugin-page-creator.png 649w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>/about/ 이라는 path로 페이지가 생성된 것이 보인다. 그런데 <code class=\"language-text\">404</code>, <code class=\"language-text\">about</code> 페이지와 위의 두 페이지는 pluginCreator 값이 다르다.</p>\n<p>두 개의 다른 플러그인이 페이지를 생성하고 있는 걸로 보인다. 결국 기존에 있지 않은 페이지를 생성한다는 건 어떤 플러그인을 수정하거나 새로운 플러그인을 만들어야 한다는 뜻일까?</p>","frontmatter":{"title":"About 페이지 만들기","date":"September 10, 2019","description":"gatsby-starter-blog에서 about page 만들기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blogging/making-about-pages/","previous":{"fields":{"slug":"/algorithm/programmers/전화번호-목록/"},"frontmatter":{"title":"전화번호 목록"}},"next":{"fields":{"slug":"/weekly-read/2019-9-2/"},"frontmatter":{"title":"2019년 9월 2째주"}}}}}